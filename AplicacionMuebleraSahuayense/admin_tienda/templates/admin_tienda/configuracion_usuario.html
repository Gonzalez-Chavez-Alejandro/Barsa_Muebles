{% load static %}


<script src="{% static 'js/Header.js' %}"></script>
<!DOCTYPE html>
<html lang="es">


<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Configuraci√≥n Usuario</title>
<link rel="icon" href="https://res.cloudinary.com/dacrpsl5p/image/upload/v1745430696/Logo-Negro-B_c6wznv.png"
    type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="{% static 'Css/Usuario-Menu.css' %}">
<link rel="stylesheet" href="{% static 'Css/Principal.css' %}">
<link rel="stylesheet" href="{% static 'Css/Carrito.css' %}">
<link rel="stylesheet" href="{% static 'Css/Header.css' %}">
<link rel="stylesheet" href="{% static 'Css/Login.css' %}">
<link rel="stylesheet" href="{% static 'Css/configuracion_usuario.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
    /* Estilos para botones accesibles */
    .encargo-acciones {
        display: flex;
        gap: 1rem;
        justify-content: flex-end;
        margin-top: 1.5rem;
        padding-top: 1rem;
        border-top: 2px solid #e0e0e0;
    }

    .btn-pdf,
    .btn-eliminar {
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-weight: 600;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        /* Borde alto contraste */
        border: 2px solid transparent;
    }

    /* Estilo PDF con patr√≥n de l√≠neas diagonales */
    .btn-pdf {
        background:

            #2c3e50;
        color: #e0e0e0;
        position: relative;
    }

    .btn-pdf:hover {
        background:

            #1a252f;
        border-color: #000000;
    }

    /* Estilo Eliminar con patr√≥n de cruz */
    .btn-eliminar {
        background: #e74c3c;
        color: #ffffff;
    }
</style>
</head>

<body>
    {% include 'includes/header.html' %}

    <button class="menu-hamburguesa" onclick="toggleMenuHamburguesa()">
        <i class="fas fa-bars"></i>
    </button>

    <nav class="sidebar" id="menuLateral">
        <button class="btn-cerrar-menu" onclick="toggleMenuHamburguesa()">
            <i class="fas fa-times"></i>
        </button>
        <div class="border-top"></div>
        <a href="#" onclick="mostrarSeccion('inicio')"><i class="fas fa-home"></i>Inicio</a>
        <a href="#" onclick="mostrarSeccion('mi-perfil')"><i class="fas fa-user"></i>Mi Perfil</a>
        <a href="#" onclick="mostrarSeccion('mis-encargos')"><i class="fas fa-box"></i>Mis Encargos</a>

    </nav>



    <div class="main-content">
        <!-- Secci√≥n de Mis Encargos -->
        <section id="mis-encargos" class="seccion-contenido">
            <h2 class="h2-title">üì¶ Mis Encargos</h2>
            <p class="p-seleccion">Informaci√≥n de los pedidos</p>
            <div class="div-informacion-pedidos"></div>
            <div id="lista-encargos" class="lista-encargos"></div>
        </section>

        <section id="inicio" class="seccion-contenido">
            <h2 class="h2-title">üè† Inicio</h2>
            <p class="p-seleccion">Bienvenido al panel de configuraci√≥n</p>

            <div class="bienvenida-card">
                <div class="bienvenida-icono">
                    <i class="fas fa-user-astronaut"></i>
                </div>
                <h2 class="bienvenida-titulo">¬°Bienvenido a tu Panel!</h2>
                <p class="bienvenida-descripcion">
                    Gestiona tu perfil personalizado y mant√©n el control de todos tus encargos.
                    Navega f√°cilmente usando nuestro men√∫ intuitivo o accede directamente a las
                    secciones principales desde aqu√≠.
                </p>
                <div class="bienvenida-botones">
                    <button class="btn-ir" onclick="mostrarSeccion('mi-perfil')">
                        <i class="fas fa-id-card"></i> Mi Perfil
                    </button>
                    <button class="btn-ir" onclick="mostrarSeccion('mis-encargos')">
                        <i class="fas fa-rocket"></i> Mis Encargos
                    </button>
                </div>
            </div>
        </section>

        <section id="mi-perfil" class="seccion-contenido">
            <h2 class="h2-title">üë§ Mi Perfil</h2>
            <p class="p-seleccion">Informaci√≥n del perfil del usuario</p>
            <div class="credential-card">
                <div class="credential-header">
                    <h2>
                        <div class="credential-icon">
                            <i class="fas fa-id-card"></i>
                        </div>
                        Editar Datos
                    </h2>
                </div>

                <form id="form-configuracion">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Nombre completo</label>
                            <input type="text" id="nombre" placeholder="Ej: Juan P√©rez" required>
                        </div>

                        <div class="form-group">
                            <label>Tel√©fono</label>
                            <input type="tel" id="telefono" placeholder="+52 55 1234 5678" required>
                        </div>

                        <div class="form-group full-width">
                            <label>Correo electr√≥nico</label>
                            <input type="email" id="correo" placeholder="ejemplo@dominio.com" required>
                        </div>

                        <div class="form-group full-width" style.display='none'>
                            <label>Contrase√±a</label>
                            <div style="position: relative;">
                                <input type="password" id="contrasena" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                                <button type="button" class="toggle-password">
                                    <i class="fas fa-eye-slash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn-guardar">
                        <i class="fas fa-save"></i> Guardar Cambios
                    </button>
                </form>
            </div>
        </section>

        <!-- Carrito -->
        <section id="carrito" class="carrito" style="display: none;">
            <h2>Tu Carrito</h2>
            <div id="lista-carrito" class="contenedor-carrito"></div>
            <button id="vaciar-carrito">Vaciar Carrito</button>
            <button id="cerrar-carrito">Cerrar</button>
            <div id="total-carrito">
                <span>Total: $<span id="total-precio">0.00</span></span>
            </div>
            <button id="btn-encargar">Encargar</button> <!-- Nuevo bot√≥n -->
        </section>
    </div>
    <div class="overlay-menu" id="overlayMenu" onclick="toggleMenuHamburguesa()"></div>
    <!-- Scripts 
    <script src="{% static 'js/variables.js' %}"></script>-->
    <!-- Definir la variable HOME_URL en el template -->

    <head>

        <script src="{% static 'js/Carrito.js' %}"></script>
        <script src="{% static 'js/Usuarios-configuracion_usuario.js' %}"></script>
        <script>


            // Funciones del men√∫
            function toggleMenuHamburguesa() {
                const menu = document.getElementById('menuLateral');
                const overlay = document.getElementById('overlayMenu');
                const botonHamburguesa = document.querySelector('.menu-hamburguesa');

                if (window.innerWidth <= 768) {
                    menu.classList.toggle('mostrar-menu');
                    overlay.style.display = menu.classList.contains('mostrar-menu') ? 'block' : 'none';
                    botonHamburguesa.style.display = menu.classList.contains('mostrar-menu') ? 'none' : 'block';
                }
            }

            // Actualizar funci√≥n para cerrar men√∫ al hacer click en overlay
            document.getElementById('overlayMenu').addEventListener('click', function () {
                if (window.innerWidth <= 768) {
                    const menu = document.getElementById('menuLateral');
                    const boton = document.querySelector('.menu-hamburguesa');
                    menu.classList.remove('mostrar-menu');
                    boton.innerHTML = '<i class="fas fa-bars"></i>';
                    this.style.display = 'none';
                }
            });

            // Actualizar funci√≥n al cambiar tama√±o de ventana
            window.addEventListener('resize', function () {
                const boton = document.querySelector('.menu-hamburguesa');
                if (window.innerWidth > 768) {
                    boton.innerHTML = '<i class="fas fa-bars"></i>';
                }
            });
            function mostrarSeccion(idSeccion) {
                // Ocultar todas las secciones
                document.querySelectorAll('.seccion-contenido').forEach(seccion => {
                    seccion.classList.remove('seccion-activa');
                });

                // Mostrar secci√≥n seleccionada
                const seccionActiva = document.getElementById(idSeccion);
                if (seccionActiva) seccionActiva.classList.add('seccion-activa');

                // Actualizar enlace activo
                document.querySelectorAll('.sidebar a').forEach(enlace => {
                    enlace.classList.remove('active');
                    if (enlace.getAttribute('onclick')?.includes(idSeccion)) {
                        enlace.classList.add('active');
                    }
                });

                // Cerrar men√∫ en m√≥viles
                if (window.innerWidth <= 768) {
                    toggleMenuHamburguesa();
                }
            }

            // Inicializar secci√≥n por defecto
            document.addEventListener('DOMContentLoaded', () => {
                mostrarSeccion('inicio');
            });


        </script>
        <script src="{% static 'js/Admin-Manda.js' %}"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const hash = window.location.hash;

                if (hash === "#mis-encargos") {
                    mostrarSeccion("mis-encargos");
                }

                // Puedes agregar m√°s si quieres soportar otros accesos directos:
                // if (hash === "#mi-perfil") mostrarSeccion("mi-perfil");
            });
        </script>

</body>

</html>